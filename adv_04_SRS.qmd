---
title: "Координатные системы отсчета"
subtitle: "Геоинформатика I. Базы пространственных данных"
date: today
date-format: long
author: "Самсонов Тимофей Евгеньевич"
execute:
  echo: false
  freeze: true
engine: knitr
format:
  revealjs: 
    theme: [default, custom.scss]
    margin: 0.2
    width: 1280
    height: 720
    slide-number: true
    footer: "Самсонов Т. Е. Геоинформатика: курс лекций"
    header-includes: <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/pt-sans" type="text/css"/>
bibliography: references.yaml
mainfont: PT Sans
---

## Координатная система отсчета

```{mermaid}
%%| fig-width: 12
flowchart LR
  A(Система отсчета) --> B(Пространственная)
  A --> C(Временная)
  B --> D(Географические идентификаторы)
  B --> E(Координатная)
  B --> F(Параметрическая координатная)
  C --> G(Координатная)
  C --> H(Порядковая)
  C --> I(Календари)
  E --> J(Координатная)
  F --> J
  G --> J
```

## Определение SRS на языке WKT

**WKT** представляет одну систему координат или объект координатной операции.

-   Каждый объект представляется в виде токена, состоящего из ключевого слова, за которым следует множесто атрибутов объекта.

-   Некоторые объекты состоят из других объектов, поэтому результат может состоять из нескольких уровней вложенности (глубина не ограничена).

Пример для трёх уровней:

``` code
KEYWORD1[
  attribute1, 
  KEYWORD2[
    attribute2, 
    attribute3,
    KEYWORD3[
      attribute4
    ]
  ]
]
```

## Общие атрибуты

Вне зависимости от типа описываемого объекта ему всегда могут быть заданы:

1.  Имя (*name*).

2.  Использование (*usage*)

    -   Область применения (*scope*).

    -   Пространственный охват (*extent*).

3.  Идентификатор (*identifier*).

4.  Примечания (*remarks*).

::: callout-note
## Имя

Имя является обязательным атрибутом при описании *координатной системы отсчета*, а также для некоторых компонент структуры ее описания
:::

## Использование

`<usage>` включает в себя обязательную пару области применения и охвата:

`USAGE[<scope>, <extent>]`

`<scope>` представляет текстовое описание области применения:

`SCOPE["Engineering survey, topographic mapping."]`

`<extent>` хранит описание пространственного охвата:

-   `AREA["Between 36°E and 42°E, northern hemisphere]`

-   `BBOX[0, 36, 84, 42]`

-   `VERTICALEXTENT[-1000,0]`

-   `VERTICALEXTENT[-200, 6000, LENGTHUNIT["metre",1.0]]`

-   `TIMEEXTENT[2013-01-01,2013-12-31]`

-   `TIMEEXTENT["Carbon", "Pleistocene"]`

Токенов `<usage>` может быть несколько --- для каждой области применения.

## Примеры

**UTM 37N**

``` code
USAGE[
  SCOPE["Engineering survey, topographic mapping."],
  AREA["Between 36°E and 42°E, northern hemisphere between equator 
        and 84°N, onshore and offshore. Djibouti. Egypt. Eritrea. 
        Ethiopia. Georgia. Iraq. Jordan. Kenya. Lebanon. Russian 
        Federation. Saudi Arabia. Somalia. Sudan. Syria. Turkey. 
        Ukraine."],
  BBOX[0,36,84,42]]
```

**Местная система координат**

``` code
USAGE[
  SCOPE["Small scale topographic mapping."], 
  AREA["Finland - onshore and offshore."]],
USAGE[
  SCOPE["Cadastre."],
  AREA["Finland - onshore between 26°30'E and 27°30'E."], 
  BBOX[60.36,26.5,70.05,27.5]]
```

## Определение SRS на языке WKT

|                                                                                                           |
|-----------------------------------------------------------------------------------------------------------|
| `<simple Latin lower case letter> ::= a|b|c|d|e|f|g|h|i|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z`                |
| `<simple Latin upper case letter> ::= A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z`                |
| `<simple Latin letter> ::= <simple Latin upper case letter> | <simple Latin lower case letter>`           |
| `<underscore> ::= _`                                                                                      |
| `<quote> ::= '`                                                                                           |
| `<space> ::= " "`                                                                                         |
| `<special> ::= <right paren> | <left paren> | <minus sign> | <underscore> | <period> | <quote> | <space>` |
| `<letter> ::= <simple Latin letter> | <digit> | <special>`                                                |
| `<letters> ::= (<letter>)*`                                                                               |

## Определение SRS на языке WKT

|                                                                                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------|
| `<name> ::= <letters>`                                                                                                               |
| `<double quote> ::= "`                                                                                                               |
| `<quoted name> ::= <double quote> <name> <double quote>`                                                                             |
| `<unit name>, <spheroid name>, <projection name>, <prime meridian name>, <parameter name>, <datum name>, <csname> ::= <quoted name>` |
| `<value>, <semi-major axis>, <longitude>, <inverse flattening>, <conversion factor> ::= <signed numeric literal>`                    |
| `<unit> ::= UNIT <left delimiter> <unit name> <comma> <conversion factor> <right delimiter>`                                         |
| `<linear unit> ::= <unit>`                                                                                                           |
| `<angular unit> ::= <unit>`                                                                                                          |

## Определение SRS на языке WKT

+---------------------+-------+----------------------------------------------------------------------------------------------------------------------+
| `<prime meridian>`  | `::=` | `PRIMEM <left delimiter> <prime meridian name> <comma> <longitude> <right delimiter>`                                |
+---------------------+-------+----------------------------------------------------------------------------------------------------------------------+
| `<spheroid>`        | `::=` | `SPHEROID <left delimiter> <spheroid name> <comma> <semi-major axis> <comma> <inverse flattening> <right delimiter>` |
+---------------------+-------+----------------------------------------------------------------------------------------------------------------------+
| `<parameter>`       | `::=` | `PARAMETER <left delimiter> <parameter name> <comma> <value> <right delimiter>`                                      |
+---------------------+-------+----------------------------------------------------------------------------------------------------------------------+
| `<projection>`      | `::=` | `PROJECTION <left delimiter> <projection name> <right delimiter>`                                                    |
+---------------------+-------+----------------------------------------------------------------------------------------------------------------------+
| `<datum>`           | `::=` | `DATUM <left delimiter> <datum name> <comma> <spheroid> <right delimiter>`                                           |
+---------------------+-------+----------------------------------------------------------------------------------------------------------------------+

## Определение SRS на языке WKT

+------------------------------+-------+-------------------------------------------------------------------------------------------------------------------------------------------------+
| `<geocentric cs>`            | `::=` | `GEOCCS <left delimiter> <name> <comma> <datum> <comma> <prime meridian> <comma> <linear unit> <right delimiter>`                               |
+------------------------------+-------+-------------------------------------------------------------------------------------------------------------------------------------------------+
| `<geographic cs>`            | `::=` | `GEOGCS <left delimiter> <csname> <comma> <datum> <comma> <prime meridian> <comma> <angular unit> (<comma> <linear unit> ) <right delimiter>`   |
+------------------------------+-------+-------------------------------------------------------------------------------------------------------------------------------------------------+
| `<projected cs>`             | `::=` | `PROJCS <left delimiter> <csname> <comma> <geographic cs> <comma> <projection> (<comma> <parameter> )* <comma> <linear unit> <right delimiter>` |
+------------------------------+-------+-------------------------------------------------------------------------------------------------------------------------------------------------+
| `<spatial reference system>` | `::=` | `<projected cs> | <geographic cs> | <geocentric cs>`                                                                                            |
+------------------------------+-------+-------------------------------------------------------------------------------------------------------------------------------------------------+

## Библиография
