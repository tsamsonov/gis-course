{
  "hash": "c0363949d2550b95c17a0538b461b2da",
  "result": {
    "markdown": "---\ntitle: \"Координатные системы отсчета\"\nsubtitle: \"Геоинформатика I. Базы пространственных данных\"\ndate: today\ndate-format: long\nauthor: \"Самсонов Тимофей Евгеньевич\"\nexecute:\n  echo: false\n  freeze: true\nengine: knitr\nformat:\n  revealjs: \n    theme: [default, custom.scss]\n    margin: 0.2\n    width: 1280\n    height: 720\n    slide-number: true\n    footer: \"Самсонов Т. Е. Геоинформатика: курс лекций\"\n    header-includes: <link rel=\"stylesheet\" media=\"screen\" href=\"https://fontlibrary.org//face/pt-sans\" type=\"text/css\"/>\nbibliography: references.yaml\nmainfont: PT Sans\n---\n\n\n## Координатная система отсчета\n\n\n```{mermaid}\n%%| fig-width: 12\nflowchart LR\n  A(Система отсчета) --> B(Пространственная)\n  A --> C(Временная)\n  B --> D(Географические идентификаторы)\n  B --> E(Координатная)\n  B --> F(Параметрическая координатная)\n  C --> G(Координатная)\n  C --> H(Порядковая)\n  C --> I(Календари)\n  E --> J(Координатная)\n  F --> J\n  G --> J\n```\n\n\n## Определение SRS на языке WKT\n\n**WKT** представляет одну систему координат или объект координатной операции.\n\n-   Каждый объект представляется в виде токена, состоящего из ключевого слова, за которым следует множесто атрибутов объекта.\n\n-   Некоторые объекты состоят из других объектов, поэтому результат может состоять из нескольких уровней вложенности (глубина не ограничена).\n\nПример для трёх уровней:\n\n``` code\nKEYWORD1[\n  attribute1, \n  KEYWORD2[\n    attribute2, \n    attribute3,\n    KEYWORD3[\n      attribute4\n    ]\n  ]\n]\n```\n\n## Общие атрибуты\n\nВне зависимости от типа описываемого объекта ему всегда могут быть заданы:\n\n1.  Имя (*name*).\n\n2.  Использование (*usage*)\n\n    -   Область применения (*scope*).\n\n    -   Пространственный охват (*extent*).\n\n3.  Идентификатор (*identifier*).\n\n4.  Ремарка (*remark*).\n\n::: callout-note\n## Имя\n\nИмя является обязательным атрибутом при описании *координатной системы отсчета*, а также для некоторых компонент структуры ее описания\n:::\n\n## Использование\n\n`<usage>` включает в себя обязательную пару области применения и охвата:\n\n`USAGE[<scope>, <extent>]`\n\n`<scope>` представляет текстовое описание области применения:\n\n`SCOPE[\"Engineering survey, topographic mapping.\"]`\n\n`<extent>` хранит описание пространственного охвата:\n\n-   `AREA[\"Between 36°E and 42°E, northern hemisphere]`\n\n-   `BBOX[0, 36, 84, 42]` --- $[\\phi_0, \\lambda_0, \\phi_1, \\lambda_1]$\n\n-   `VERTICALEXTENT[-1000,0]`\n\n-   `VERTICALEXTENT[-200, 6000, LENGTHUNIT[\"metre\",1.0]]`\n\n-   `TIMEEXTENT[2013-01-01,2013-12-31]` --- $[T_0, T_1]$\n\n-   `TIMEEXTENT[\"Carbon\", \"Pleistocene\"]`\n\nТокенов `<usage>` может быть несколько --- для каждой области применения.\n\n## Примеры\n\n**UTM 37N**\n\n``` code\nUSAGE[\n  SCOPE[\"Engineering survey, topographic mapping.\"],\n  AREA[\"Between 36°E and 42°E, northern hemisphere between equator \n        and 84°N, onshore and offshore. Djibouti. Egypt. Eritrea. \n        Ethiopia. Georgia. Iraq. Jordan. Kenya. Lebanon. Russian \n        Federation. Saudi Arabia. Somalia. Sudan. Syria. Turkey. \n        Ukraine.\"],\n  BBOX[0,36,84,42]]\n```\n\n**Местная система координат**\n\n``` code\nUSAGE[\n  SCOPE[\"Small scale topographic mapping.\"], \n  AREA[\"Finland - onshore and offshore.\"]],\nUSAGE[\n  SCOPE[\"Cadastre.\"],\n  AREA[\"Finland - onshore between 26°30'E and 27°30'E.\"], \n  BBOX[60.36,26.5,70.05,27.5]]\n```\n\n## Идентификатор\n\n**Идентификатор** --- опциональный (необязательный) атрибут, который представляет ссылку на внешнее описание объекта (координатной системы, операции и т.д.).\n\n+-------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| `<wkt separator>` | `::=` | `<comma>`                                                                                                                                                                                                                    |\n+-------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| `<identifier>`    | `::=` | `<identifier keyword> <left delimiter> <authority name> <wkt separator> <authority unique identifier> [ <wkt separator> <version> ] [ <wkt separator> <authority citation> ] [ <wkt separator> <id uri> ] <right delimiter>` |\n+-------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n\n``` code\nID[\"Росреестр\", \"СК-ХХХ\", 666]\nID[\"EPSG\",20907]  — GSK-2011 / Gauss-Kruger zone 23\nID[\"EPSG\",4326,URI[\"urn:ogc:def:crs:EPSG::4326\"]]\nID[\"ESRI\",102604] — NAD_1983_Georgia_Statewide_Lambert\n```\n\n## Ремарка (примечание)\n\n**Ремарка** является опциональным параметром и носит информационный характер, т.е. не влияет на поведение объекта, к которому она относится.\n\n-   Ремарки нельзя использовать на уровне компонент координатной системы.\n\n-   Ремарка --- единственное место в WKT, где можно использовать символы, не входящие в латинский алфавит.\n\n``` code\nGEOGCRS[\"S-95\",\n  DATUM[\"Pulkovo 1995\", \n    ELLIPSOID[\"Krassowsky 1940\",6378245,298.3, LENGTHUNIT[\"metre\",1.0]] ], \n  CS[ellipsoidal,2], \n    AXIS[\"latitude\",north,ORDER[1]], \n    AXIS[\"longitude\",east,ORDER[2]], \n    ANGLEUNIT[\"degree\",0.0174532925199433], \n  REMARK[\"Система Геодеэических Координат года 1995(СК-95)\"]\n]\n```\n\n## Единицы измерения\n\n**Единицы измерения** указываются для некоторых параметров осей координат, а также параметров координатных операций.\n\n+------------------+------------+-------------------------------------------------------------------+\n| `<spatial unit>` | `::=`      | `<angle unit> | <length unit> | <parametric unit> | <scale unit>` |\n+------------------+------------+-------------------------------------------------------------------+\n| `<unit>`         | `::=`      | `<spatial unit> | <time unit>`                                    |\n+------------------+------------+-------------------------------------------------------------------+\n\nПосле единицы измерения указывается *коэффициент пересчета:*\n\n``` code\nLENGTHUNIT[\"metre\",1] \nLENGTHUNIT[\"German legal metre\",1.0000135965] \nANGLEUNIT[\"degree\",0.0174532925199433] \nSCALEUNIT[\"parts per million\",1E-06] \nPARAMETRICUNIT[\"hectopascal\",100]\n```\n\n::: callout-important\n## Эталоны\n\nКоэффициенты пересчета указываются ***к*** эталонным единицам СИ: метрам, радианам и т.д.\n:::\n\n## Система координат\n\nОпределяется рядом параметров:\n\n+-----------------------+------------+--------------------------------------------------------------------+\n| `<coordinate system>` | `::=`      | `<spatial cs> | <temporalCountMeasure cs> | <ordinal-dateTime cs>` |\n+-----------------------+------------+--------------------------------------------------------------------+\n| `<spatial cs>`        | `::=`      | `<cs keyword> <left delimiter> <spatial cs type>`                  |\n|                       |            |                                                                    |\n|                       |            | `<wkt separator> <dimension>`                                      |\n|                       |            |                                                                    |\n|                       |            | `[{<wkt separator> <identifier>}]*`                                |\n|                       |            |                                                                    |\n|                       |            | `<right delimiter>`                                                |\n|                       |            |                                                                    |\n|                       |            | `{<wkt separator> <spatial axis>}*`                                |\n|                       |            |                                                                    |\n|                       |            | `[<wkt separator> <cs unit>]`                                      |\n+-----------------------+------------+--------------------------------------------------------------------+\n\n## Система координат\n\nОпределяется рядом параметров:\n\n+---------------------+----------+-------------------------------------------------------------------------------------------------------+\n| `<dimension>`       | `::=`    | `1|2|3`                                                                                               |\n+---------------------+----------+-------------------------------------------------------------------------------------------------------+\n| `<spatial cs type>` | `::=`    | `affine | Cartesian | cylindrical | ellipsoidal | linear | parametric | polar | spherical | vertical` |\n+---------------------+----------+-------------------------------------------------------------------------------------------------------+\n| `<spatial axis>`    | `::=`    | `<axis keyword> <left delimiter> <axis nameAbbrev>`                                                   |\n|                     |          |                                                                                                       |\n|                     |          | `<wkt separator> <axis direction>`                                                                    |\n|                     |          |                                                                                                       |\n|                     |          | `[<wkt separator> <axis order>]`                                                                      |\n|                     |          |                                                                                                       |\n|                     |          | `[<wkt separator> <spatial unit>]`                                                                    |\n|                     |          |                                                                                                       |\n|                     |          | `[<wkt separator> <axis range>]`                                                                      |\n|                     |          |                                                                                                       |\n|                     |          | `[{ <wkt separator> <identifier> }]*`                                                                 |\n|                     |          |                                                                                                       |\n|                     |          | `<right delimiter>`                                                                                   |\n+---------------------+----------+-------------------------------------------------------------------------------------------------------+\n\n## Типы систем координат\n\nАффинная\n\n:   Координатная система в Евклидовом пространстве с прямыми осями, которые не обязательно взаимно перпендикулярны\n\n    `CS[affine,2]`\n\nДекартова\n\n:   Аффинная система координат, в которой оси взаимно перепендикулярны и имеют одинаковые единицы измерения\n\n    `CS[Cartesian,3]`\n\nЛинейная\n\n:   Одномерная система координат, в которой ось определена линейным пространственным объектом\n\n    `CS[linear,1]`\n\n## Типы систем координат\n\nПолярная\n\n:   Двумерная система координат в Евклидовом пространстве, в котором местоположение определяется расстоянием и углом\n\n    `CS[polar,2]`\n\nЦилиндрическая\n\n:   Трехмерная система координат в Евклидовом пространстве, в котором местоположение задается двумя расстояниями и углом\n\n    `CS[cylindrical,3]`\n\nПорядковая\n\n:   Система координат, в которой местоположение по осям определяется целыми числами\n\n    `CS[ordinal,2]`\n\n## Типы систем координат\n\nСферическая\n\n:   Двух- или трехмерная система координат в Евклидовом пространстве, в которой местоположение определяется двумя угловыми координатами и (в трехмерном случае) одной координатой-расстоянием\n\n    `CS[spherical,3]`\n\nЭллипсоидальная\n\n:   Двух- или трехмерная система координат, в которой местоположение определяется геодезической широтой, долготой и (в трехмерном случае) геодезической высотой\n\n    `CS[ellipsoidal,3]`\n\nПараметрическая\n\n:   Одномерная система координат, в которой единицы измерения по оси являются непространственными параметрами\n\n    `CS[parametric,1]`\n\n## Допустимые системы координат\n\n+----------------------------------+-------------------+------------------------+\n| **Координатная система отсчета** | **Допустимые СК** | **Размерность\\         |\n|                                  |                   | (число осей)**         |\n+----------------------------------+-------------------+------------------------+\n| геодезическая                    | декартова\\        | 3\\                     |\n|                                  | сферическая       | 2 или 3                |\n+----------------------------------+-------------------+------------------------+\n| географическая                   | эллипсоидальная   | 2 или 3                |\n+----------------------------------+-------------------+------------------------+\n| проецированная                   | декартова         | 2 или 3                |\n+----------------------------------+-------------------+------------------------+\n| проецированная *производная*     | аффинная\\         | 2 или 3\\               |\n|                                  | декартова\\        | 2 или 3\\               |\n|                                  | цилиндрическая\\   | 3\\                     |\n|                                  | порядковая\\       | 1 или 2 или 3\\         |\n|                                  | полярная\\         | 2\\                     |\n|                                  | сферическая       | 2 или 3                |\n+----------------------------------+-------------------+------------------------+\n\n## Допустимые системы координат\n\n+----------------------------------+-------------------+----------------+\n| **Координатная система отсчета** | **Допустимые СК** | **Размерность\\ |\n|                                  |                   | (число осей)** |\n+----------------------------------+-------------------+----------------+\n| вертикальная                     | вертикальная      | 1              |\n+----------------------------------+-------------------+----------------+\n| инженерная                       | аффинная\\         | 2 или 3\\       |\n|                                  | декартова\\        | 2 или 3\\       |\n|                                  | цилиндрическая\\   | 3\\             |\n|                                  | линейная\\         | 1\\             |\n|                                  | порядковая\\       | 1 или 2 или 3\\ |\n|                                  | полярная\\         | 2\\             |\n|                                  | сферическая       | 2 или 3        |\n+----------------------------------+-------------------+----------------+\n| параметрическая                  | параметрическая   | 1              |\n+----------------------------------+-------------------+----------------+\n| временная                        | temporalDateTime\\ | 1\\             |\n|                                  | temporalCount\\    | 1\\             |\n|                                  | temporalMeasure   | 1              |\n+----------------------------------+-------------------+----------------+\n\n## Названия осей\n\nСогласно стандарту [ISO 19111](https://www.iso.org/standard/74039.html), для каждой оси должны быть указаны как имя, так и аббревиатура. В стандарте [OGC 18-005r8](OGC 18-005r8) требование более мягкое: достаточно указать одну или обе компоненты:\n\n+--------------+---------+--------------------+\n| `\"northing\"` | `\"(Y)\"` | `\"northing (Y)\"`   |\n+--------------+---------+--------------------+\n\n-   в **геоцентрической** СК указываются только аббревиатуры `(X)` , `(Y)`, `(Z)`\n\n-   в **географической** СК указываются\n\n    -   `geodetic latitude (Lat)`\n\n    -   `geodetic longitude (lon)`\n\n    -   `ellipsoidal height (h)`\n\n-   в **проецированной** СК указываются\n\n    -   `northing (N)` / `southing (S)`\n\n    -   `easting (E)` / `westing (W)`\n\n## Направления осей\n\nНаправление оси соответствует положительному изменению значания.\n\n+--------------------------+----------------------------+----------------------------------------------------------------------+\n| **Координатная система** | **Допустимые направления** | **Пример**                                                           |\n+--------------------------+----------------------------+----------------------------------------------------------------------+\n| географическая           | `north`, `east`, `up`      | `AXIS[\"(lat)\",north]`\\                                               |\n|                          |                            | `AXIS[\"(lon)\",east]`                                                 |\n+--------------------------+----------------------------+----------------------------------------------------------------------+\n| геодезическая декартова  | `geocentricX`\\             | `AXIS[\"(X)\",geocentricX]` \\                                          |\n|                          | `geocentricY`\\             | `AXIS[\"(Y)\",geocentricY]`\\                                           |\n|                          | `geocentricZ`              | `AXIS[\"(Z)\",geocentricZ]`                                            |\n+--------------------------+----------------------------+----------------------------------------------------------------------+\n| проецированная           | `north` / `south`\\         | `AXIS[\"(E)\",east]`\\                                                  |\n|                          | `east` / `west`\\           | `AXIS[\"(N)\",north]`\\                                                 |\n|                          | `up`                       | `AXIS[\"ellipsoid height (h)\",up]`                                    |\n+--------------------------+----------------------------+----------------------------------------------------------------------+\n| вертикальная             | `up` / `down`              | `AXIS[\"depth (D)\",down]`                                             |\n+--------------------------+----------------------------+----------------------------------------------------------------------+\n\n## Порядок осей\n\nТокен `<axis order> ::= ORDER[<digit>]` определяет соответствие между координатами точек в данных и осям координат.\n\n-   Нумерация осей начинается с $1$ и увеличивается с шагом $1$\n\n-   Порядок должен быть указан для всех осей, либо ни для какой из них\n\n-   Если порядок не указан, по умолчанию предполагается, что порядок осей соответствует порядку их перечисления в описании СК.\n\nНапример, если в файле с данными координата $X$ соответствует направлению на север, то это можно указать в параметрах осей:\n\n`AXIS[\"(E)\", east,  ORDER[2]],`\\\n`AXIS[\"(N)\", north, ORDER[1]]`\n\n## Библиография\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}